<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Javascript 问题 | 前端教程</title>
    <meta name="description" content="当我们去面试时可能会被问及的 Javascript 问题">
    <link rel="shortcut icon" href="/course/favicon.png">
  <script src="/course/assets/js/statistics.js"></script>
    
    <link rel="preload" href="/course/assets/css/0.styles.466f481f.css" as="style"><link rel="preload" href="/course/assets/js/app.b2cd8c56.js" as="script"><link rel="preload" href="/course/assets/js/11.e6f6ce6f.js" as="script"><link rel="prefetch" href="/course/assets/js/10.1503f263.js"><link rel="prefetch" href="/course/assets/js/12.fd54f7bc.js"><link rel="prefetch" href="/course/assets/js/13.5aa654ed.js"><link rel="prefetch" href="/course/assets/js/14.89a72224.js"><link rel="prefetch" href="/course/assets/js/15.85a49105.js"><link rel="prefetch" href="/course/assets/js/16.e5a2b3f2.js"><link rel="prefetch" href="/course/assets/js/17.bc7e8c12.js"><link rel="prefetch" href="/course/assets/js/18.6cdc88d8.js"><link rel="prefetch" href="/course/assets/js/2.0be15f32.js"><link rel="prefetch" href="/course/assets/js/3.5f2bf488.js"><link rel="prefetch" href="/course/assets/js/4.9b769f1a.js"><link rel="prefetch" href="/course/assets/js/5.2a9ca55a.js"><link rel="prefetch" href="/course/assets/js/6.8f3e0e3c.js"><link rel="prefetch" href="/course/assets/js/7.133b6949.js"><link rel="prefetch" href="/course/assets/js/8.0038e675.js"><link rel="prefetch" href="/course/assets/js/9.691c0a5b.js">
    <link rel="stylesheet" href="/course/assets/css/0.styles.466f481f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/course/" class="home-link router-link-active"><!----> <span class="site-name">前端教程</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://cxp106.github.io/navigation/#/shusheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我爱学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://cxp106.github.io/navigation/#/shusheng" target="_blank" rel="noopener noreferrer" class="nav-link external">
  我爱学习
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/course/chapter/html/" class="sidebar-link">html</a></li><li><a href="/course/chapter/css/" class="sidebar-link">css</a></li><li><a href="/course/chapter/javascript/" class="sidebar-link">javascript</a></li><li><a href="/course/chapter/jquery/" class="sidebar-link">jquery</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="javascript-问题"><a href="#javascript-问题" aria-hidden="true" class="header-anchor">#</a> Javascript 问题</h1> <h2 id="什么是事件委托"><a href="#什么是事件委托" aria-hidden="true" class="header-anchor">#</a> 什么是事件委托</h2> <p>事件委托是将事件监听器添加到父元素，而不是每个子元素单独设置事件监听器。当触发子元素时，事件会冒泡到父元素，监听器就会触发。这种技术的好处是：</p> <ul><li>内存占用减少，因为只需要一个父元素的事件处理程序，而不必为每个后代都添加事件处理程序。</li> <li>无需从已删除的元素中解绑处理程序，也无需将处理程序绑定到新元素上。</li></ul> <h2 id="javascript中的this"><a href="#javascript中的this" aria-hidden="true" class="header-anchor">#</a> <code>JavaScript</code>中的<code>this</code></h2> <p>JS 中的<code>this</code>是一个相对复杂的概念，不是简单几句能解释清楚的。粗略地讲，函数的调用方式决定了<code>this</code>的值。一般来说<code>this</code>取值符合以下规则：</p> <ol><li>在调用函数时使用<code>new</code>关键字，函数内的<code>this</code>是一个全新的对象。</li> <li>如果<code>apply</code>、<code>call</code>或<code>bind</code>方法用于调用、创建一个函数，函数内的 this 就是作为参数传入这些方法的对象。</li> <li>当函数作为对象里的方法被调用时，函数内的<code>this</code>是调用该函数的对象。比如当<code>obj.method()</code>被调用时，函数内的 this 将绑定到<code>obj</code>对象。</li> <li>如果调用函数不符合上述规则，那么<code>this</code>的值指向全局对象（global object）。浏览器环境下<code>this</code>的值指向<code>window</code>对象，但是在严格模式下(<code>'use strict'</code>)，<code>this</code>的值为<code>undefined</code>。</li> <li>如果符合上述多个规则，则较高的规则（1 号最高，4 号最低）将决定<code>this</code>的值。</li> <li>如果该函数是 ES2015 中的箭头函数，将忽略上面的所有规则，<code>this</code>被设置为它被创建时的上下文。</li></ol> <h2 id="原型继承（prototypal-inheritance）的工作原理"><a href="#原型继承（prototypal-inheritance）的工作原理" aria-hidden="true" class="header-anchor">#</a> 原型继承（prototypal inheritance）的工作原理</h2> <p>这是一个非常常见的 JavaScript 问题。所有 JS 对象都有一个<code>prototype</code>属性，指向它的原型对象。当试图访问一个对象的属性时，如果没有在该对象上找到，它还会搜寻该对象的原型，以及该对象的原型的原型，依次层层向上搜索，直到找到一个名字匹配的属性或到达原型链的末尾。这种行为是在模拟经典的继承，但是与其说是继承，不如说是委托（delegation）。</p> <h2 id="请解释下面代码为什么不能用作-iife：function-foo-，需要作出哪些修改才能使其成为-iife"><a href="#请解释下面代码为什么不能用作-iife：function-foo-，需要作出哪些修改才能使其成为-iife" aria-hidden="true" class="header-anchor">#</a> 请解释下面代码为什么不能用作 IIFE：<code>function foo(){ }();</code>，需要作出哪些修改才能使其成为 IIFE</h2> <p>IIFE（Immediately Invoked Function Expressions）代表立即执行函数。 JavaScript 解析器将 <code>function foo(){ }();</code>解析成<code>function foo(){ }</code>和<code>();</code>。其中，前者是函数声明；后者（一对括号）是试图调用一个函数，却没有指定名称，因此它会抛出<code>Uncaught SyntaxError: Unexpected token )</code>的错误。</p> <p>修改方法是：再添加一对括号，形式上有两种：<code>(function foo(){ })()</code>和<code>(function foo(){ }())</code>。以上函数不会暴露到全局作用域，如果不需要在函数内部引用自身，可以省略函数的名称。</p> <h2 id="null、undefined和未声明变量之间有什么区别？如何检查判断这些状态值？"><a href="#null、undefined和未声明变量之间有什么区别？如何检查判断这些状态值？" aria-hidden="true" class="header-anchor">#</a> <code>null</code>、<code>undefined</code>和未声明变量之间有什么区别？如何检查判断这些状态值？</h2> <p>当你没有提前使用<code>var</code>、<code>let</code>或<code>const</code>声明变量，就为一个变量赋值时，该变量是未声明变量（undeclared variables）。未声明变量会脱离当前作用域，成为全局作用域下定义的变量。在严格模式下，给未声明的变量赋值，会抛出<code>ReferenceError</code>错误。和使用全局变量一样，使用未声明变量也是非常不好的做法，应当尽可能避免。要检查判断它们，需要将用到它们的代码放在<code>try</code>/<code>catch</code>语句中。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// 在严格模式下，抛出 ReferenceError 错误</span>
<span class="token punctuation">}</span>

<span class="token function">foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
</code></pre></div><p>当一个变量已经声明，但没有赋值时，该变量的值是<code>undefined</code>。如果一个函数的执行结果被赋值给一个变量，但是这个函数却没有返回任何值，那么该变量的值是<code>undefined</code>。要检查它，需要使用严格相等（<code>===</code>）；或者使用<code>typeof</code>，它会返回<code>'undefined'</code>字符串。请注意，不能使用非严格相等（<code>==</code>）来检查，因为如果变量值为<code>null</code>，使用非严格相等也会返回<code>true</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> foo<span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> foo <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true. 错误，不要使用非严格相等！</span>

<span class="token keyword">function</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">var</span> baz <span class="token operator">=</span> <span class="token function">bar</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>baz<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p><code>null</code>只能被显式赋值给变量。它表示<code>空值</code>，与被显式赋值 <code>undefined</code> 的意义不同。要检查判断<code>null</code>值，需要使用严格相等运算符。请注意，和前面一样，不能使用非严格相等（<code>==</code>）来检查，因为如果变量值为<code>undefined</code>，使用非严格相等也会返回<code>true</code>。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> foo <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">===</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>foo <span class="token operator">==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// true. 错误，不要使用非严格相等！</span>
</code></pre></div><p>作为一种个人习惯，我从不使用未声明变量。如果定义了暂时没有用到的变量，我会在声明后明确地给它们赋值为<code>null</code>。</p> <h2 id="什么是闭包（closure），为什么使用闭包？"><a href="#什么是闭包（closure），为什么使用闭包？" aria-hidden="true" class="header-anchor">#</a> 什么是闭包（closure），为什么使用闭包？</h2> <p>闭包是函数和声明该函数的词法环境的组合。词法作用域中使用的域，是变量在代码中声明的位置所决定的。闭包是即使被外部函数返回，依然可以访问到外部（封闭）函数作用域的函数。</p> <p><strong>为什么使用闭包？</strong></p> <ul><li>利用闭包实现数据私有化或模拟私有方法。这个方式也称为<a href="https://addyosmani.com/resources/essentialjsdesignpatterns/book/#modulepatternjavascript" target="_blank" rel="noopener noreferrer">模块模式（module pattern）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</li> <li><a href="https://medium.com/javascript-scene/curry-or-partial-application-8150044c78b8#.l4b6l1i3x" target="_blank" rel="noopener noreferrer">部分参数函数（partial applications）柯里化（currying）<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul></div> <div class="page-edit"><!----> <!----></div> <!----> </div> <!----></div></div>
    <script src="/course/assets/js/app.b2cd8c56.js" defer></script><script src="/course/assets/js/11.e6f6ce6f.js" defer></script>
  </body>
</html>
